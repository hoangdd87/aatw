<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css.css">
    <title>Các gói câu hỏi</title>
</head>

<script>
    let DSGOICAUHOIKEY = "dsgoicauhoi";
</script>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css.css">
    <title>Danh sách các gói ?></title>
</head>
<body>
<div class="divbuttonReset">
    <button class="buttonReset" onclick="reset()">
        Reset
    </button>
</div>

<div class="container">
    <div class="ochunhatchinh" id="ochunhatchinh">
        <!--<a class="oGoiCauHoi" onclick="clickme(0)" id="0" href="dscauhoi.html?magoi=0">
            1
        </a>

        <a class="oGoiCauHoi" onclick="clickme(1)" href="dscauhoi.html?magoi=1" id="1"
           style="text-decoration:none; background-color: white">
            2
        </a>

        <a class="oGoiCauHoi" onclick="clickme(2)" href="dscauhoi.html?magoi=2" id="2"
           style="text-decoration:none; background-color: white">
            3
        </a>

        <a class="oGoiCauHoi" onclick="clickme(3)" href="dscauhoi.html?magoi=3" id="3"
           style="text-decoration:none; background-color: white">
            4
        </a>
        <a class="oGoiCauHoi" onclick="clickme(4)" id="4" href="dscauhoi.html?magoi=0"
           style="text-decoration:none; background-color: white">
            5
        </a>-->
    </div>
</div>
</body>

<script>
    var dsgoicauhoi = null;

    function reset() {
        dsgoicauhoi = [
            {
                "sogoi": 1,
                "trangthai": 0,
                "value": 10
            },
            {
                "sogoi": 2,
                "trangthai": 0,
                "value": 10
            },
            {
                "sogoi": 3,
                "trangthai": 0,
                "value": 10
            },
            {
                "sogoi": 4,
                "trangthai": 0,
                "value": 10
            },
            {
                "sogoi": 5,
                "trangthai": 0,
                "value": 10
            },

            {
                "sogoi": 6,
                "trangthai": 0,
                "value": 20
            },
            {
                "sogoi": 7,
                "trangthai": 0,
                "value": 20
            },
            {
                "sogoi": 8,
                "trangthai": 0,
                "value": 20
            },
            {
                "sogoi": 9,
                "trangthai": 0,
                "value": 20
            },
            {
                "sogoi": 10,
                "trangthai": 0,
                "value": 20
            },

            {
                "sogoi": 11,
                "trangthai": 0,
                "value": 30
            },
            {
                "sogoi": 12,
                "trangthai": 0,
                "value": 30
            },
            {
                "sogoi": 13,
                "trangthai": 0,
                "value": 30
            },
            {
                "sogoi": 14,
                "trangthai": 0,
                "value": 30
            },
            {
                "sogoi": 15,
                "trangthai": 0,
                "value": 30
            }
        ];
        localStorage.setItem(DSGOICAUHOIKEY, JSON.stringify(dsgoicauhoi));
    }

    //Neu chua co du lieu thi them vao
    if (localStorage.getItem(DSGOICAUHOIKEY) === null) {
        reset();
    }

    //Lay du lieu ve cac goi cau hoi tu localstorage
    dsgoicauhoi = JSON.parse(localStorage.getItem(DSGOICAUHOIKEY));

    let ochunhatElement = document.getElementById('ochunhatchinh');
    // Add element to DOM
    for (let i = 0; i < dsgoicauhoi.length; i++) {
        let cauhoi = dsgoicauhoi[i];
        let aElement = document.createElement("a");
        let node = document.createTextNode(cauhoi.value);
        aElement.appendChild(node);
        aElement.classList.add("oGoiCauHoi");
        aElement.id = cauhoi.sogoi;
        aElement.href = "dscauhoi.html?magoi=" + cauhoi.sogoi;
        aElement.style.backgroundColor = (cauhoi.trangthai == 1 ? "grey" : "white");
        aElement.onclick = () => {
            (dsgoicauhoi[i]).trangthai = 1;
            localStorage.setItem(DSGOICAUHOIKEY, JSON.stringify(dsgoicauhoi));
        }
        ochunhatElement.appendChild(aElement);
    }

</script>

<script>

    function clickme(magoi) {
        console.log(magoi);
        (dsgoicauhoi[magoi]).trangthai = 1;
        localStorage.setItem(DSGOICAUHOIKEY, JSON.stringify(dsgoicauhoi));

    }
</script>



